# Building hello-run [riscv64-nemu]
make -s -C /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am archive
# Building am-archive [riscv64-nemu]
mkdir -p /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am/build/riscv64-nemu/src/platform/nemu/ && echo + CC src/platform/nemu/trm.c
riscv64-linux-gnu-gcc -std=gnu11 -O2 -MMD -Wall -Werror -I/home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am/src -I/home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am/include -I/home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am/include/ -I/home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/klib/include/ -D__ISA__=\"riscv64\" -D__ISA_RISCV64__ -D__ARCH__=riscv64-nemu -D__ARCH_RISCV64_NEMU -D__PLATFORM__=nemu -D__PLATFORM_NEMU -DARCH_H=\"arch/riscv64-nemu.h\" -fno-asynchronous-unwind-tables -fno-builtin -fno-stack-protector -Wno-main -U_FORTIFY_SOURCE -fno-pic -march=rv64g -mcmodel=medany -mstrict-align -static -fdata-sections -ffunction-sections -DMAINARGS=\"\" -I/home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am/src/platform/nemu/include -DISA_H=\"riscv/riscv.h\" -c -o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am/build/riscv64-nemu/src/platform/nemu/trm.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am/src/platform/nemu/trm.c
echo + AR "->" build/am-riscv64-nemu.a
ar rcs /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am/build/am-riscv64-nemu.a /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am/build/riscv64-nemu/src/platform/nemu/trm.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am/build/riscv64-nemu/src/platform/nemu/ioe/ioe.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am/build/riscv64-nemu/src/platform/nemu/ioe/timer.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am/build/riscv64-nemu/src/platform/nemu/ioe/input.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am/build/riscv64-nemu/src/platform/nemu/ioe/gpu.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am/build/riscv64-nemu/src/platform/nemu/ioe/audio.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am/build/riscv64-nemu/src/platform/nemu/ioe/disk.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am/build/riscv64-nemu/src/platform/nemu/mpe.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am/build/riscv64-nemu/src/riscv/nemu/start.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am/build/riscv64-nemu/src/riscv/nemu/cte.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am/build/riscv64-nemu/src/riscv/nemu/trap.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am/build/riscv64-nemu/src/riscv/nemu/vme.o
make -s -C /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/klib archive
# Building klib-archive [riscv64-nemu]
echo + LD "->" build/hello-riscv64-nemu.elf
riscv64-linux-gnu-ld -melf64lriscv -T /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/scripts/linker.ld --defsym=_pmem_start=0x30000000 --defsym=_entry_offset=0x0 --gc-sections -e _start -o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/am-kernels/kernels/hello/build/hello-riscv64-nemu.elf --start-group /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/am-kernels/kernels/hello/build/riscv64-nemu/hello.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/am/build/am-riscv64-nemu.a /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/abstract-machine/klib/build/klib-riscv64-nemu.a --end-group
echo \# Creating image [riscv64-nemu]
riscv64-linux-gnu-objdump -d /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/am-kernels/kernels/hello/build/hello-riscv64-nemu.elf > /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/am-kernels/kernels/hello/build/hello-riscv64-nemu.txt
echo + OBJCOPY "->" build/hello-riscv64-nemu.bin
riscv64-linux-gnu-objcopy -S --set-section-flags .bss=alloc,contents -O binary /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/am-kernels/kernels/hello/build/hello-riscv64-nemu.elf /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/am-kernels/kernels/hello/build/hello-riscv64-nemu.bin
make -C /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu ISA=riscv64 run ARGS="-b -l /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/am-kernels/kernels/hello/build/nemu-log.txt" IMG=/home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/am-kernels/kernels/hello/build/hello-riscv64-nemu.bin
make[1]: Entering directory '/home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu'
flock /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/../.git/ make -C /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/.. .git_commit MSG=' "compile NEMU"'
sync
echo + LD /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/riscv64-nemu-interpreter
g++ -o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/riscv64-nemu-interpreter /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/nemu-main.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/device/device.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/device/alarm.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/device/intr.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/device/serial.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/device/timer.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/device/keyboard.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/device/vga.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/device/audio.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/device/disk.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/engine/interpreter/init.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/engine/interpreter/hostcall.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/cpu/cpu-exec.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/cpu/difftest/dut.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/cpu/difftest/ref.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/monitor/monitor.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/monitor/sdb/expr.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/monitor/sdb/watchpoint.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/monitor/sdb/sdb.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/utils/log.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/utils/timer.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/utils/rand.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/utils/state.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/memory/vaddr.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/memory/paddr.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/device/io/port-io.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/device/io/map.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/device/io/mmio.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/isa/riscv64/system/mmu.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/isa/riscv64/system/intr.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/isa/riscv64/logo.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/isa/riscv64/reg.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/isa/riscv64/init.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/isa/riscv64/difftest/dut.o /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/obj-riscv64-nemu-interpreter/src/isa/riscv64/inst.o  -O2 -O2     -lreadline -ldl -pie -lSDL2
flock /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/../.git/ make -C /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/.. .git_commit MSG=' "run NEMU"'
sync
/home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu/build/riscv64-nemu-interpreter -b -l /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/am-kernels/kernels/hello/build/nemu-log.txt  /home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/am-kernels/kernels/hello/build/hello-riscv64-nemu.bin
make[1]: Leaving directory '/home/lin/SpinalProjects/DandRiscvSoC/ysyx-workbench/nemu'
